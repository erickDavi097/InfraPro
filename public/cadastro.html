<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>InfraPro</title>
  <link rel="stylesheet" href="./css/cadastro.css">
  <link rel="icon" href="./assets/icon/logo.png" />

</head>
<body id="pagina">
  <div class="container">
    <div class="navbar">
      <a href="index.html"><img src="./assets/imgs/logo.png" alt=""></a>
      <div class="navegacao">
        <a href="./index.html">
          <p>Sobre</p>
        </a>
        <a href="./index.html">
          <p>Contato</p>
        </a>
        <a href="./login.html">
          <p>Login</p>
        </a>
        <a href="./cadastro.html">
          <p>Cadastro</p>
        </a>
      </div>
    </div>
    <div class="cadastro">
      <div class="area">
        <div class="topo-etapa">
          <a href="#" onclick="voltarEtapa()" id="btnVoltar">
            <img src="./assets/imgs/seta.png" alt="" class="rodar">
          </a>
          <div class="titulo-etapa" id="tituloEtapa">Escolha como deseja continuar</div>
        </div>
        <div id="etapas">
          <div class="etapa" id="inicio">
            <div class="selecao">
              <div class="usuario">
                <img src="./assets/imgs/userCli.png" class="user" onclick="irPara(1)" />
                <div class="title">Cliente</div>
              </div>
              <div class="usuario">
                <img src="./assets/imgs/userProf.png" class="user" onclick="irPara(3)" />
                <div class="title">Profissional</div>
              </div>
            </div>
            <div class="entrar">
              <p>Já tem uma conta? <a href="./login.html">Entrar</a></p>
            </div>
          </div>
          <div class="etapa" id="cliente">
            <div class="login">
              <div class="alerta_erro">
                <div class="card_erro" id="cardErro">
                  <span id="mensagem_erro"></span>
                </div>
              </div>
              <div class="container">
                <div class="card card-cadastro">
                  <div class="formulario">
                    <div class="campo">
                      <input id="nome_input" type="text" placeholder="Nome" />
                    </div>
                    <div class="campo">
                      <input id="telefone_input" type="text" placeholder="Telefone" />
                    </div>
                    <div class="campo">
                      <input id="email_input" type="text" placeholder="Email" />
                    </div>
                    <div class="campo">
                      <input id="senha_input" type="password" placeholder="Senha" />
                    </div>
                    <div class="campo">
                      <input id="confirmacao_senha_input" type="password" placeholder="Confirmar Senha" />
                    </div>
                    <p>Etapa 1 de 2</p>
                    <button onclick="irPara(2)" class="btn">Continuar</button>
                  </div>
                  <div id="div_aguardar" class="loading-div">
                    <img src="./assets/circle-loading.gif" id="loading-gif" />
                  </div>

                  <div id="div_erros_login"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="etapa" id="cliente2">
            <p>Formulário detalhado aqui...</p>
            <a href="cadastro-cliente.html"><button>Finalizar</button></a>
          </div>

          <div class="etapa" id="profissional">
            <div class="login">
              <div class="alerta_erro">
                <div class="card_erro" id="cardErro">
                  <span id="mensagem_erro"></span>
                </div>
              </div>
              <div class="container">
                <div class="card card-cadastro">

                  <div class="formulario">

                    <div class="linha-campos">
                      <div class="campo metade">
                        <input id="nome_input" type="text" placeholder="Nome" />
                      </div>
                      <div class="campo metade">
                        <input id="sobrenome_input" type="text" placeholder="Sobrenome" />
                      </div>
                    </div>
                    <div class="campo">
                      <input id="cpf_input" type="text" placeholder="CPF" />
                    </div>
                    <div class="campo">
                      <input id="telefone_input" type="text" placeholder="Telefone" />
                    </div>
                    <div class="campo">
                      <input id="email_input" type="text" placeholder="Email" />
                    </div>
                    <div class="campo">
                      <input id="senha_input" type="password" placeholder="Senha" />
                    </div>
                    <div class="campo">
                      <input id="confirmacao_senha_input" type="password" placeholder="Confirmar Senha" />
                    </div>
                    <p>Etapa 1 de 2</p>
                    <button onclick="irPara(4)" class="btn">Continuar</button>
                  </div>
                  <div id="div_aguardar" class="loading-div">
                    <img src="./assets/circle-loading.gif" id="loading-gif" />
                  </div>

                  <div id="div_erros_login"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="etapa" id="profissional2">
            <p>Formulário detalhado aqui...</p>
            <a href="cadastro-profissional.html"><button>Finalizar</button></a>
          </div>
        </div>
      </div>

      <div class="banner">
        <img src="./assets/imgs/homem_furadeira.jpg" alt="">
      </div>
    </div>
  </div>

  <script>
    const etapas = [inicio, cliente, cliente2, profissional, profissional2];
    const historico = [];

    function mostrarEtapa(index) {
      etapas.forEach(e => e.style.display = 'none');
      etapas[index].style.display = 'block';
      historico.push(index);

      const id = etapas[index].id;
      const titulo = document.getElementById("tituloEtapa");

      if (id === "inicio") {
        titulo.textContent = "Escolha como deseja continuar";
      } else {
        titulo.textContent = "Informações básicas";
      }
    }

    function irPara(index) {
      mostrarEtapa(index);
    }

    function voltarEtapa() {
      historico.pop(); // remove atual
      const anterior = historico.pop(); // pega anterior
      if (anterior !== undefined) {
        mostrarEtapa(anterior);
      } else {
        window.location.href = "index.html";
      }
    }

    window.onload = () => mostrarEtapa(0);
  </script>
</body>

</html>